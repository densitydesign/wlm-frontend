(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(3993)}])},947:function(a,b,c){"use strict";c.d(b,{Z:function(){return p}});var d=c(4924),e=c(5893),f=c(1664),g=c.n(f),h=c(1163),i=c(2419),j=c(8340),k=c(4184),l=c.n(k),m=c(2371),n=c.n(m),o=JSON.parse('[{"label":"Home","url":"/","menues":["main","footer"]},{"label":"Page","url":"/page","menues":["main","footer"]}]');function p(){var a=(0,h.useRouter)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(i.Z,{className:l()(n().navbar,"px-3"),sticky:"top",expand:"lg",children:[(0,e.jsx)(g(),{href:"/",children:(0,e.jsx)("a",{className:l()(n().logo,"no-hover"),children:"Project Title"})}),(0,e.jsx)(i.Z.Toggle,{"aria-controls":"abilitiamo-main-navbar"}),(0,e.jsx)(i.Z.Collapse,{children:(0,e.jsx)(j.Z,{className:l()("ms-auto","align-items-left"),children:o.filter(function(a){return a.menues.indexOf("main")> -1}).map(function(b){return(0,e.jsx)(g(),{href:b.url,children:(0,e.jsx)("a",{className:l()("nav-link","no-hover",n().item,(0,d.Z)({},"".concat(n().active),a.pathname==b.url),(0,d.Z)({},"".concat(n().specificPage),"/dona-ora"===b.url)),children:b.label})},b.label)})})})]})})}},3993:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return V}});var d,e,f,g,h,i,j,k,l,m=c(5893),n=c(9008),o=c.n(n),p=c(682),q=c(1608),r=c(1555),s=c(947),t=c(7568),u=c(4051),v=c.n(u),w=c(7294),x=c(1163),y=c(3726),z=c(797),A=c(6392),B=c.n(A),C=c(4184),D=c.n(C),E={},F={},G=[100,500,1e3,5e3,1e4,15e3],H=y.PUr().range([0,100]),I=y.PKp(["mapped","authorized","photographed"],["#C3C5C3","#F8FF0E","#22B8B4"]),J=function(a,b,c){var f=(d=y.Ys(a).style("background-color","#f1f5f1")).node().getBoundingClientRect();k=f.width,l=f.height,E.left=k%200/2,E.top=l%200/2,F.columns=Math.floor(k/200),F.rows=Math.floor(l/200),e=d.select("g"),e.empty()&&(e=d.append("g").classed("main-group",!0)),K(b,c)},K=function(a,b){console.log("update",a),H.domain([0,b[1]]),j=150/(a=L(a))[0][1].length;var c=150+a[0][1].length-1;h=(g=(f=e.selectAll(".fan").data(a,function(a){return a[0]}).join(function(a){return a.append("g").attr("transform",function(a,b){return P(a,b)}).attr("data-area",function(a){return a[0]}).classed("fan",!0)},function(a){return a.call(function(a){return a.transition().duration(500).attr("transform",function(a,b){return P(a,b)})})},function(a){return a.remove()})).selectAll(".snapshot").data(function(a){return a[1]},function(a){return a[0]}).join(function(a){return a.append("g").classed("snapshot",!0).attr("transform",function(a,b){return"rotate(".concat(-c/2+b*j+b,")")}).attr("data-snapshot",function(a){return a[0]})},function(a){return a.call(function(a){return a.transition().duration(500).attr("transform",function(a,b){return"rotate(".concat(-c/2+b*j+b,")")})})},function(a){return a.call(function(a){return a.transition().duration(500).attr("transform",function(a,b){return"rotate(".concat(-c/2+(b-1)*j+(b-1),")")}).style("opacity",0).remove()})})).selectAll(".monumentGroup").data(function(a){return a[1]},function(a){return a.group}).join(function(a){return a.append("path").classed("monumentGroup",!0).attr("data-group",function(a){return a[0]}).attr("d",function(a){return O(a)}).attr("fill",function(a){return I(a.group)})},function(a){return a.call(function(a){return a.transition(500).attr("d",function(a){return O(a)}).attr("fill",function(a){return I(a.group)})})},function(a){return a.remove()}),i=f.selectAll(".tick").data(function(a){return Q(a)},function(a){return a}).join(function(a){return a.append("g").attr("data-tick",function(a){return a}).classed("tick",!0)},function(a){return a},function(a){return a.remove()}),i.selectAll(".axis").data(function(a){return[a]},function(a){return a}).join(function(a){return a.append("path").attr("d",function(a){var b=H(a);return N(0,0,b,-c/2,c/2)}).attr("fill","none").attr("stroke","grey").attr("stroke-dasharray","1, 2").style("mix-blend-mode","multiply").classed("axis",!0)},function(a){return a.attr("d",function(a){var b=H(a);return N(0,0,b,-c/2,c/2)})},function(a){return a.remove()}),i.selectAll(".axisLabel").data(function(a,b){return[{index:b,value:a}]},function(a){return a.value}).join(function(a){return a.append("text").attr("font-size",10).attr("text-anchor","middle").attr("fill","grey").attr("stroke","none").style("mix-blend-mode","multiply").attr("x",function(a){var b=H(a.value),d=c/2;return M(0,0,b,d=a.index%2==0?d:-d).x}).attr("y",function(a){var b=H(a.value);return M(0,0,b,c/2).y+10}).text(function(a){return R(a.value)}).classed("axisLabel",!0)},function(a){return a.text(function(a){return R(a.value)})},function(a){return a.remove()}),f.selectAll(".label").data(function(a){return[a]},function(a){return a[0]}).join(function(a){return a.append("text").classed("label",!0).attr("text-anchor","middle").attr("font-size",12).attr("y",50).text(function(a){return a[0]})},function(a){return a},function(a){return a.remove()})};function L(a){return a.forEach(function(a){a[1].forEach(function(a){var b=a[1].find(function(a){return"photographed"===a.group});b.innerRadius=0,b.outerRadius=H(b.valueIncremental);var c=a[1].find(function(a){return"authorized"===a.group});c.innerRadius=b.outerRadius,c.outerRadius=H(c.valueIncremental);var d=a[1].find(function(a){return"mapped"===a.group});d.innerRadius=c.outerRadius,d.outerRadius=H(d.valueIncremental)})}),a}function M(a,b,c,d){var e=(d-90)*Math.PI/180;return{x:a+c*Math.cos(e),y:b+c*Math.sin(e)}}function N(a,b,c,d,e){var f=M(a,b,c,e),g=M(a,b,c,d);return["M",f.x,f.y,"A",c,c,0,e-d<=180?"0":"1",0,g.x,g.y].join(" ")}function O(a){var b;if(0===a.innerRadius){var c=a.outerRadius,d=0,e=j,f=M(0,0,a.outerRadius,e),g=M(0,0,a.outerRadius,d),h=e-d<=180?"0":"1";b=["M",0,0,"L",f.x,f.y,"A",c,c,0,h,0,g.x,g.y,"Z",].join(" ")}else{var i=a.outerRadius,k=0,l=j,m=M(0,0,i,l),n=M(0,0,i,k),o=l-k<=180?"0":"1",p=a.innerRadius,q=0,r=j,s=M(0,0,p,r),t=M(0,0,p,q),u=r-q<=180?"0":"1";b=["M",s.x,s.y,"L",m.x,m.y,"A",i,i,0,o,0,n.x,n.y,"L",t.x,t.y,"A",p,p,0,u,1,s.x,s.y,"Z",].join(" ")}return b}function P(a,b){var c=b%F.columns*200+100+E.left,d=200*Math.floor(b/F.columns)+100+E.top;return"translate(".concat(c,",").concat(d,") rotate(",0,")")}function Q(a){var b=a[1][a[1].length-1][1].find(function(a){return"mapped"===a.group}).valueIncremental,c=G.filter(function(a){return a<=b}).length+1;return G.slice(Math.max(0,c-4),c)}function R(a){return a.toString().includes("000")?a.toString().replace("000","K").replace("K0","0K"):a}function S(a){var b=a.data,c=(0,w.useRef)(),d=(0,w.useState)(),e=d[0],f=d[1];return(0,w.useEffect)(function(){var a=[];b.forEach(function(b){b[0],b[1].forEach(function(b){b[0];var c,d=b[1],e=y.Wem(d,function(a){return a.valueIncremental});(c=a).push.apply(c,(0,z.Z)(e))})});var d=y.Wem(a);f(y.Wem(d)),J(c.current,b,d)},[]),(0,w.useEffect)(function(){b&&e&&K(b,e)},[b]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("svg",{className:D()(B().visualization),ref:c})})}function T(){return(T=(0,t.Z)(v().mark(function a(b){var c,d,e;return v().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.url,d=b.setState,a.next=3,y.AVB(c);case 3:d(e=a.sent);case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}var U=function(){var a=(0,x.useRouter)(),b=(a.asPath,a.basePath),c=(0,w.useState)([]),d=c[0],e=c[1];return(0,w.useEffect)(function(){(function a(b){return T.apply(this,arguments)})({url:"".concat(b,"/api-data-simulated/interval-12months.aggregation-province.json"),setState:e})},[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"VisualizationController eyeyey"}),d.length&&(0,m.jsx)(S,{data:d})]})};function V(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o(),{children:(0,m.jsx)("title",{children:"Home"})}),(0,m.jsx)(s.Z,{}),(0,m.jsx)(p.Z,{fluid:!0,children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(r.Z,{children:(0,m.jsx)(U,{})})})})]})}},2371:function(a){a.exports={navbar:"Navigation_navbar__clCa1",logo:"Navigation_logo__AbP0d",item:"Navigation_item__j_Te9",specificPage:"Navigation_specificPage__k2gFH"}},6392:function(a){a.exports={visualization:"TestVentagli_visualization__KviMi"}}},function(a){a.O(0,[390,833,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])